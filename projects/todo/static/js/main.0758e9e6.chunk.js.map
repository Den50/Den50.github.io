{"version":3,"sources":["componets/Barchart.js","redux/types.js","redux/actions/index.js","componets/Header.js","componets/Panel.js","componets/Todo.js","componets/Todos.js","componets/Footer.js","App.js","redux/reducers/index.js","redux/store.js","index.js"],"names":["Barchart","props","state","dropdown","todos","this","countActiveGLobal","countCheckedGLobal","res","wday","countActive","countChecked","procents","map","todo","index","active","time","Math","round","wdays","globalProcents","className","theme","onClick","e","setState","ProgressBar","now","calc","label","style","display","Component","connect","app","TODO_ADD","TODO_ADD_INIT","TODO_DELETE","TODO_TOGGLE","TODO_IMPORT","FILTER_CHANGE","APP_CHANGE_THEME","changeFilter","filter","type","payload","changeTheme","Header","file","target","files","self","reader","FileReader","readAsText","onload","evt","importTodos","JSON","parse","result","data","meta","checked","onChange","value","uploadJSON","dispatch","newFilter","Panel","inputRef","React","createRef","length","alert","addTodo","code","placeholder","ref","input","onKeyPress","addTodoEnter","Todo","defaultChecked","eventToggle","id","cnt","eventDelete","Todos","deleteTodo","toggleTodo","console","log","jsonData","fileData","stringify","blob","Blob","url","URL","createObjectURL","link","document","createElement","download","href","click","handleSaveToPC","switcher","saveJSON","loadTodos","Footer","App","localforage","then","keys","forEach","key","addTodoInit","paddingBottom","saveToDB","rootReducer","combineReducers","action","Date","valueOf","getDay","newTodos","i","push","item","composedEnhancer","composeWithDevTools","applyMiddleware","store","next","syncActivityFinished","actionQueue","flushQueue","a","actionWithAsyncDispatch","Object","assign","asyncDispatch","asyncAction","concat","createStore","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.0758e9e6.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport { ProgressBar } from \"react-bootstrap\"\r\nimport { connect } from \"react-redux\"\r\n \r\n\r\nclass Barchart extends Component {\r\n   constructor(props) {\r\n      super(props);\r\n      this.state = { \r\n\t\t\tdropdown: false,\r\n      }\r\n      // props -> [{wday: \"Mon\", value: 50}, {wday: \"Wen\", value: 44}...]\r\n      \r\n   }\r\n\tcalc(){\r\n\t\tconst todos = this.props.todos\r\n\t\tvar countActiveGLobal = 0\r\n\t\tvar countCheckedGLobal = 0\r\n\t\tvar res = [\r\n\t\t\t{wday: \"Пн\", countActive: 0, countChecked: 0, procents: 0},\r\n\t\t\t{wday: \"Вт\", countActive: 0, countChecked: 0, procents: 0},\r\n\t\t\t{wday: \"Ср\", countActive: 0, countChecked: 0, procents: 0},\r\n\t\t\t{wday: \"Чт\", countActive: 0, countChecked: 0, procents: 0},\r\n\t\t\t{wday: \"Пт\", countActive: 0, countChecked: 0, procents: 0},\r\n\t\t\t{wday: \"Сб\", countActive: 0, countChecked: 0, procents: 0},\r\n\t\t\t{wday: \"Вс\", countActive: 0, countChecked: 0, procents: 0}\r\n\t\t]\r\n\t\ttodos.map((todo, index) => {\r\n\t\t\tif(todo.active){\r\n\t\t\t\tcountActiveGLobal++\r\n\t\t\t\tres[(todo.time + 6) % 7].countActive++\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tcountCheckedGLobal++\r\n\t\t\t\tres[(todo.time + 6) % 7].countChecked++\r\n\t\t\t}\r\n\t\t})\r\n\t\tres.map((wday, index) => {\r\n\t\t\tres[index].procents = Math.round((wday.countChecked / (wday.countChecked + wday.countActive)) * 100) || 0\r\n\t\t})\r\n\r\n\t\treturn {\r\n\t\t\twdays: res,\r\n\t\t\tglobalProcents: Math.round((countCheckedGLobal / (countCheckedGLobal + countActiveGLobal)) * 100) || 0\r\n\t\t}\r\n\t}\r\n   render() {\r\n      return ( \r\n         <div className={`Barchart ${this.props.theme}`} onClick={e => this.setState({dropdown: !this.state.dropdown})}>\r\n            <ProgressBar now={this.calc().globalProcents} label={`${this.calc().globalProcents}%`}/>\r\n            <div className=\"wdayDropdown\" style={this.state.dropdown? {display: \"block\"}: {display: \"none\"}}>\r\n\t\t\t\t\t<h4>Statistics</h4>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis.calc().wdays.map((wday, index) => \r\n\t\t\t\t\t\t\t<div className=\"wdayDropdownItem\" key={\"\"+index}>\r\n\t\t\t\t\t\t\t\t<span className=\"wdayDropdownItem_label\">{wday.wday}: </span> \r\n\t\t\t\t\t\t\t\t<ProgressBar now={wday.procents} label={`${wday.procents}%`}/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n            </div>\r\n         </div>\r\n      )\r\n   }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n   todos: state.todos,\r\n\ttheme: state.app.theme\r\n})\r\n\r\nexport default connect(mapStateToProps, null)(Barchart);","export const TODO_ADD = \"TODO/ADD\"\r\nexport const TODO_ADD_INIT = \"TODO/ADD_INIT\"\r\nexport const TODO_DELETE = \"TODO/DELETE\"\r\nexport const TODO_TOGGLE = \"TODO/TOGGLE\"\r\n\r\nexport const TODO_IMPORT = \"TODO/IMPORT\"\r\nexport const TODO_EXPORT = \"TODO/EXPORT\"\r\nexport const TODO_LOAD = \"TODO/LOAD\"\r\n\r\nexport const FILTER_CHANGE = \"FILTER/CHANGE\"\r\n\r\nexport const APP_CHANGE_THEME = \"APP/CHANGE_THEME\"\r\n","import { TODO_ADD, TODO_ADD_INIT, TODO_DELETE, TODO_TOGGLE, FILTER_CHANGE, TODO_IMPORT, TODO_LOAD, APP_CHANGE_THEME } from \"../types\"\r\n\r\nexport const addTodo = value => ({\r\n   type: TODO_ADD,\r\n   payload: value\r\n})\r\nexport const addTodoInit = value => ({\r\n   type: TODO_ADD_INIT,\r\n   payload: value\r\n})\r\n\r\nexport const deleteTodo = id => ({\r\n   type: TODO_DELETE,\r\n   payload: id\r\n})\r\n\r\nexport const toggleTodo = id => ({\r\n   type: TODO_TOGGLE,\r\n   payload: id\r\n})\r\n\r\nexport const changeFilter = filter => ({\r\n   type: FILTER_CHANGE,\r\n   payload: filter\r\n})\r\nexport const importTodos = data => ({\r\n   type: TODO_IMPORT,\r\n   payload: data\r\n})\r\nexport const loadTodos = data => ({\r\n   type: TODO_LOAD,\r\n   payload: data\r\n})\r\nexport const changeTheme = theme => ({\r\n   type: APP_CHANGE_THEME,\r\n   payload: theme\r\n})","import {Component} from 'react'\r\nimport Barchart from \"./Barchart\"\r\nimport { connect } from \"react-redux\"\r\nimport { importTodos, changeFilter, changeTheme } from \"../redux/actions\"\r\n\r\n\r\nclass Header extends Component {\r\n   constructor(props) {\r\n      super(props);\r\n      this.state = {  }\r\n   }\r\n   uploadJSON(e){\r\n      let file = e.target.files[0];\r\n      const self = this\r\n      \r\n      var reader = new FileReader();\r\n      reader.readAsText(file, \"UTF-8\");\r\n      reader.onload = function (evt) {\r\n         self.props.importTodos(JSON.parse(evt.target.result).data)\r\n         self.props.changeFilter(JSON.parse(evt.target.result).meta.filter)\r\n      }\r\n   }\r\n   render() { \r\n      return ( \r\n         <header className={this.props.theme}>\r\n            <div className=\"container\">\r\n               <div className=\"wrap_header\">\r\n                  <div className=\"branch\">Todos</div>\r\n                  <Barchart />\r\n\r\n                  <div className='group_tools'>\r\n                     <label className=\"switch\">\r\n                        <span className=\"name_switch\">Theme: </span>\r\n                        <input type=\"checkbox\" checked={this.props.theme == \"dark\"} onChange={e => this.props.changeTheme((e.target.checked)? \"dark\": \"light\")}/>\r\n                        <span className=\"slider round\"></span>\r\n                     </label>\r\n\r\n                     <div className=\"browse-button\">\r\n                        <input type=\"button\" value=\"Import TODOs\"/>\r\n                        <input type=\"file\" onChange={e => this.uploadJSON(e)}/>\r\n                     </div>\r\n                  </div>\r\n               </div>\r\n            </div>\r\n         </header>\r\n      )\r\n   }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n   importTodos: data => dispatch(importTodos(data)),\r\n   changeFilter: newFilter => dispatch(changeFilter(newFilter)),\r\n   changeTheme: theme => dispatch(changeTheme(theme))\r\n})\r\nconst mapStateToProps = state => ({\r\n   theme: state.app.theme\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Header);","import React, { Component } from 'react'\r\nimport { connect } from \"react-redux\"\r\nimport { addTodo, changeFilter } from \"../redux/actions\"\r\n\r\nclass Panel extends Component {\r\n   constructor(props) {\r\n      super(props);\r\n      this.state = {  }\r\n      this.inputRef = React.createRef()\r\n   }\r\n   addTodo(e){\r\n      const value = this.inputRef.value\r\n      if(value.length < 3){\r\n         alert(\"Enter furher value todo\")\r\n      }\r\n      else{\r\n         this.props.addTodo(value)\r\n      }\r\n   }\r\n   addTodoEnter(e){\r\n      if(e.code == \"Enter\"){\r\n         const value = this.inputRef.value\r\n         if(value.length < 3){\r\n            alert(\"Enter furher value todo\")\r\n         }\r\n         else{\r\n            this.props.addTodo(value)\r\n         }\r\n      }\r\n   }\r\n   render() { \r\n      return ( \r\n         <div className={`Panel ${this.props.theme}`}>\r\n            <input type=\"text\" className=\"inputTodo\" placeholder=\"Type text here...\" ref={input => this.inputRef = input} onKeyPress={e => this.addTodoEnter(e)}/>\r\n            <button className=\"addButton\" onClick={e => this.addTodo(e)}>Add</button>\r\n            <div className=\"chooseFilter\">\r\n               <button onClick={e => this.props.changeFilter(\"all\")} className={this.props.filter == \"all\"? \"allButton active\" : \"allButton\"}>All</button>\r\n               <button onClick={e => this.props.changeFilter(\"active\")} className={this.props.filter == \"active\"? \"activedButton active\" : \"activedButton\"}>Active</button>\r\n               <button onClick={e => this.props.changeFilter(\"checked\")} className={this.props.filter == \"checked\"? \"checkedButton active\" : \"checkedButton\"}>Checked</button>\r\n            </div>\r\n         </div>\r\n      )\r\n   }\r\n}\r\n\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n   addTodo: value => dispatch(addTodo(value)),\r\n   changeFilter: filter => dispatch(changeFilter(filter))\r\n})\r\n\r\nconst mapStateToProps = state => ({\r\n   filter: state.filter,\r\n   theme: state.app.theme\r\n})\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Panel);","import React from 'react';\r\n\r\nconst Todo = (props) => {\r\n   var wday = [\r\n      \"Пн\",\r\n      \"Вт\",\r\n      \"Ср\",\r\n      \"Чт\",\r\n      \"Пт\",\r\n      \"Сб\",\r\n      \"Вс\"\r\n   ]\r\n   return (\r\n      <li className={props.active ? \"Todo\" : \"Todo noactive\"}>\r\n         <input className=\"checkbox\" defaultChecked={false} checked={!props.active} type=\"checkbox\" onChange={e => props.eventToggle(props.id)}/>\r\n         <span className=\"content\" onClick={e => props.eventToggle(props.id)}>{props.cnt}</span>\r\n         <span className=\"close\" onClick={e => props.eventDelete(props.id)}>X</span>\r\n         <span className=\"time\">{wday[(props.time+6)%7]}</span>\r\n      </li>\r\n   )\r\n}\r\n \r\nexport default Todo;","import {Component} from 'react'\r\nimport Todo from \"./Todo\"\r\nimport { connect } from \"react-redux\"\r\nimport { deleteTodo, loadTodos, toggleTodo } from \"../redux/actions\"\r\n\r\n// const fs = require(\"fs\")\r\n\r\nclass Todos extends Component {\r\n   constructor(props) {\r\n      super(props);\r\n      this.state = {  }\r\n   }\r\n   switcher(todo){\r\n      switch(this.props.filter){\r\n         case \"all\":\r\n            return (<Todo \r\n               id={todo.id} \r\n               active={todo.active} \r\n               cnt={todo.cnt}\r\n               time={todo.time}\r\n               eventDelete={id => this.props.deleteTodo(id)} \r\n               eventToggle={id => this.props.toggleTodo(id)}\r\n               key={todo.id}\r\n            />)\r\n         case \"active\":\r\n            console.log('active')\r\n            if(todo.active)\r\n               return (<Todo \r\n                  id={todo.id} \r\n                  active={todo.active} \r\n                  cnt={todo.cnt} \r\n                  time={todo.time}\r\n                  eventDelete={id => this.props.deleteTodo(id)} \r\n                  eventToggle={id => this.props.toggleTodo(id)}\r\n                  key={todo.id}\r\n               />)\r\n            else\r\n               return\r\n         case \"checked\":\r\n            if(!todo.active)\r\n               return (<Todo \r\n                  id={todo.id} \r\n                  active={todo.active} \r\n                  cnt={todo.cnt} \r\n                  time={todo.time}\r\n                  eventDelete={id => this.props.deleteTodo(id)} \r\n                  eventToggle={id => this.props.toggleTodo(id)}\r\n                  key={todo.id}\r\n               />)\r\n            else\r\n               return\r\n      }\r\n   }\r\n   handleSaveToPC(jsonData){\r\n      const fileData = JSON.stringify(jsonData);\r\n      const blob = new Blob([fileData], {type: \"text/plain\"});\r\n      const url = URL.createObjectURL(blob);\r\n      const link = document.createElement('a');\r\n      link.download = 'TODOs.json';\r\n      link.href = url;\r\n      link.click();\r\n    }\r\n   saveJSON(e){\r\n      let data = {\r\n         data: this.props.todos,\r\n         meta:{\r\n            filter: this.props.filter\r\n         }\r\n      }\r\n      this.handleSaveToPC(data)\r\n   }\r\n   render() {\r\n      return ( \r\n         <div className={`Todos ${this.props.theme}`}>\r\n            <ul>\r\n               {\r\n                  this.props.todos.map((todo, index) => \r\n                     this.switcher(todo)\r\n                  )\r\n               }\r\n            </ul>\r\n            <p className=\"exportJSON\"><a href=\"#download\" onClick={e => this.saveJSON(e)}>Export JSON</a></p>\r\n         </div>\r\n      )\r\n   }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n   deleteTodo: id => dispatch(deleteTodo(id)),\r\n   toggleTodo: id => dispatch(toggleTodo(id)),\r\n\tloadTodos: () => dispatch(loadTodos())\r\n})\r\nconst mapStateToProps = state => ({\r\n   todos: state.todos,\r\n   filter: state.filter,\r\n   theme: state.app.theme\r\n})\r\n \r\nexport default connect(mapStateToProps, mapDispatchToProps)(Todos);","import {Component} from 'react'\r\n\r\nconst Footer = (props) => {\r\n   return ( \r\n      <footer className={props.theme}>\r\n         <span>Daniil Shenyagin&copy;2021 <a href=\"https://github.com/den50/internship\">GitHub</a></span>\r\n      </footer>\r\n   )\r\n}\r\n \r\nexport default Footer;","import React, { Component } from 'react'\nimport Header from \"./componets/Header\"\nimport Panel from \"./componets/Panel\"\nimport Todos from \"./componets/Todos\"\nimport Footer from \"./componets/Footer\"\nimport { connect, useDispatch, useSelector } from \"react-redux\"\nimport { addTodoInit, changeTheme } from \"./redux/actions\"\nimport * as localforage from \"localforage\"\nimport \"../node_modules/bootstrap/dist/css/bootstrap.min.css\"\nimport './App.light.css'\nimport './App.dark.css'\n\nclass App extends Component {\n\tconstructor(props){\n\t\tsuper(props)\n\t}\n\tcomponentDidMount(){\n\t\tlocalforage.keys().then(keys => {\n\t\t\tkeys.forEach(key => {\n\t\t\t\tlocalforage.getItem(key).then(value => {\n\t\t\t\t\t// callback(value)\n\t\t\t\t\tif(key != \"INTERNSHIP\")\n\t\t\t\t\t\tthis.props.addTodoInit(value)\n\t\t\t\t})\n\t\t\t})\n\t\t})\n\t\tlocalforage.getItem(\"INTERNSHIP\").then(theme => {\n\t\t\tthis.props.changeTheme(theme)\n\t\t})\n\t}\n\trender(){\n\t\treturn (\n\t\t\t<div className={`App ${this.props.theme}`}>\n\t\t\t\t<Header />\n\t\t\t\t<div className=\"container\" style={{paddingBottom: \"90px\"}}>\n\t\t\t\t\t<Panel />\n\t\t\t\t\t<Todos />\n\t\t\t\t</div>\n\t\t\t\t<Footer theme={this.props.theme}/>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nconst mapDispatchToProps = (dispatch) => ({\n\taddTodoInit: todo => dispatch(addTodoInit(todo)),\n\tchangeTheme: theme => dispatch(changeTheme(theme))\n})\n\nconst mapStateToProps = state => ({\n\ttheme: state.app.theme\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App)\n","import { combineReducers } from 'redux'\r\nimport { TODO_ADD, TODO_ADD_INIT, TODO_DELETE, TODO_TOGGLE, FILTER_CHANGE, TODO_IMPORT, APP_CHANGE_THEME } from \"../types\"\r\nimport * as localforage from \"localforage\"\r\n\r\nconst saveToDB = todo => {\r\n   localforage.setItem(todo.id, todo)\r\n}\r\n\r\nconst todos = (state = [], action) => {\r\n   switch(action.type){\r\n      case TODO_ADD:\r\n         const todo = {\r\n            id: new Date().valueOf(),\r\n            cnt: action.payload,\r\n            time: new Date().getDay(),\r\n            active: true\r\n         }\r\n         saveToDB(todo)\r\n         return[\r\n            ...state,\r\n            todo\r\n         ]\r\n      case TODO_ADD_INIT:\r\n         return[\r\n            ...state,\r\n            action.payload\r\n         ]\r\n      case TODO_DELETE:\r\n         var newTodos = []\r\n         for (let i = 0; i < state.length; i++) {\r\n            if(state[i].id != action.payload)\r\n               newTodos.push(state[i])\r\n         }\r\n         localforage.removeItem(action.payload).then(item => {\r\n            console.log('deleted')\r\n         })\r\n         return newTodos\r\n      case TODO_TOGGLE:\r\n         var newTodos = []\r\n         let flag = false\r\n         state.map((todo, index) => {\r\n            if(todo.id == action.payload){\r\n               newTodos.push({...todo, active: !todo.active})\r\n               flag = !todo.active\r\n            }\r\n            else\r\n               newTodos.push(todo)\r\n         })\r\n         localforage.getItem(action.payload).then(item => {\r\n            item.active = !item.active\r\n            localforage.setItem(action.payload, item)\r\n         })\r\n         return newTodos\r\n      case TODO_IMPORT:\r\n         action.payload.map(todo => {\r\n            localforage.setItem(todo.id, todo)\r\n         })\r\n         return [\r\n            ...state,\r\n            ...action.payload\r\n         ]\r\n   }\r\n   \r\n   return state\r\n}\r\n\r\nconst filter = (state=\"all\", action) => {\r\n   switch(action.type){\r\n      case FILTER_CHANGE:\r\n         return action.payload\r\n   }\r\n   return state\r\n}\r\nconst app = (state = {theme:\"light\"}, action) => {\r\n   switch(action.type){\r\n      case APP_CHANGE_THEME:\r\n         // const app =  localforage.createInstance({ name: \"mydatabasename\" , storeName: \"app\" })\r\n         localforage.setItem(\"INTERNSHIP\", action.payload)\r\n         return {\r\n            ...state,\r\n            theme: action.payload\r\n         }\r\n   }\r\n   return state\r\n}\r\nconst rootReducer = combineReducers({\r\n   app,\r\n\ttodos,\r\n   filter,\r\n})\r\n \r\nexport default rootReducer","import { createStore, applyMiddleware } from 'redux'\r\nimport { composeWithDevTools } from 'redux-devtools-extension'\r\nimport rootReducer from './reducers'\r\n\r\n// This middleware will just add the property \"async dispatch\" to all actions\r\nconst asyncDispatchMiddleware = store => next => action => {\r\n   let syncActivityFinished = false;\r\n   let actionQueue = [];\r\n \r\n   function flushQueue() {\r\n     actionQueue.forEach(a => store.dispatch(a)); // flush queue\r\n     actionQueue = [];\r\n   }\r\n \r\n   function asyncDispatch(asyncAction) {\r\n     actionQueue = actionQueue.concat([asyncAction]);\r\n \r\n     if (syncActivityFinished) {\r\n       flushQueue();\r\n     }\r\n   }\r\n \r\n   const actionWithAsyncDispatch =\r\n     Object.assign({}, action, { asyncDispatch });\r\n \r\n   const res = next(actionWithAsyncDispatch);\r\n \r\n   syncActivityFinished = true;\r\n   flushQueue();\r\n \r\n   return res;\r\n };\r\n\r\nconst composedEnhancer = composeWithDevTools(applyMiddleware(asyncDispatchMiddleware))\r\n\r\n\r\n// The store now has the ability to accept thunk functions in `dispatch`\r\nconst store = createStore(rootReducer, composedEnhancer)\r\nexport default store","import React      from 'react'\nimport ReactDOM   from 'react-dom'\nimport App        from './App'\nimport { Provider } from \"react-redux\"\nimport store      from \"./redux/store\"\n\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}